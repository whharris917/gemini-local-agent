--- a/tool_agent.py
+++ b/sandbox/tool_agent_fixed.py
@@ -345,6 +345,10 @@
             current_collection.modify(name=session_name)
             memory.collection = chroma_client.get_collection(name=session_name)
             session_data['name'] = session_name
+            
+            # BUGFIX: The internal session name of the memory manager must also be updated.
+            # Without this, the manager's state is inconsistent, leading to new messages being saved to a recreated old session.
+            memory.session_name = session_name
 
             audit_log.log_event(
                 event="Socket.IO Emit: session_name_update",